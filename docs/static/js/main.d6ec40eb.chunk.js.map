{"version":3,"sources":["App.module.css","components/Preloader/Preloader.module.css","components/Header/Header.module.css","components/ResultError/ResultError.module.css","components/CurrencyRow/CurrencyRow.js","hooks/http.hook.js","components/Preloader/Preloader.js","components/Header/Header.js","components/ResultError/ResultError.js","App.js","config.js","index.js","components/CurrencyRow/CurrencyRow.module.css"],"names":["module","exports","CurrencyRow","options","inputValue","selectedValue","onChangeSelectHandler","onChangeInputHandler","justify","gutter","className","st","currencyBlock","span","currencyItem","input","min","value","onChange","size","showSearch","placeholder","optionFilterProp","filterOption","option","label","toLowerCase","includes","Object","keys","map","opt","Preloader","preloader","HeaderApp","currency","EURtoUAH","USDtoUAH","Header","statistic","lg","xl","title","precision","ResultError","resultBlock","status","subTitle","extra","type","onClick","document","location","reload","Content","Layout","App","useState","loading","setLoading","error","setError","request","useCallback","url","a","method","body","headers","JSON","stringify","fetch","response","json","data","ok","Error","message","clearError","useHttp","currencyData","setCurrencyData","selectedOptionsFrom","setSelectedOptionsFrom","selectedOptionsTo","setSelectedOptionsTo","fromCurrency","setFromCurrency","toCurrency","setToCurrency","fetchData","apikey","rates","convertsFormula","notification","num","currencyTo","currencyFrom","toFixed","useEffect","style","minHeight","content","e","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d6ec40eb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"App_content__3La4L\",\"CurrencyRow\":\"App_CurrencyRow__2IPAQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__11cqP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statistic\":\"Header_statistic__3-wot\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"resultBlock\":\"ResultError_resultBlock__3uUqv\"};","import React from 'react'\nimport {Col, InputNumber, Row, Select} from \"antd\";\nimport st from \"./CurrencyRow.module.css\"\n\n\n\nexport default function CurrencyRow({options,\n                                     inputValue,\n                                     selectedValue,\n                                     onChangeSelectHandler,\n                                     onChangeInputHandler,\n                                     ...props\n                                    }) {\n\n\n    return (\n        <Row justify={\"center\"} gutter={[32,32]} className={st.currencyBlock} >\n            <Col span={12} className={st.currencyItem}>\n                <InputNumber className={st.input} min={1} value={inputValue} onChange={onChangeInputHandler}/>\n            </Col>\n            <Col span={12} className={st.currencyItem}>\n                <Select\n                    size={\"large\"}\n                    showSearch\n                    value={selectedValue}\n                    placeholder=\"Select currency\"\n                    optionFilterProp=\"children\"\n                    onChange={onChangeSelectHandler}\n                    filterOption={(input, option) =>\n                        (option?.label ?? '').toLowerCase().includes(input.toLowerCase())\n                    }\n                    options={Object.keys(options).map(opt => ({label: opt, value: opt}))}\n                />\n            </Col>\n        </Row>\n    )\n}\n\n","import {useState, useCallback} from 'react'\n\nexport const useHttp = () => {\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState(null)\n\n    const request = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\n        setLoading(true)\n        try {\n            if (body) {\n                body = JSON.stringify(body)\n                headers['Content-Type'] = 'application/json'\n            }\n\n            const response = await fetch(url, {method, body, headers})\n            const data = await response.json()\n\n            if (!response.ok) {\n                throw new Error('Sorry, something went wrong.')\n            }\n\n            setLoading(false)\n\n            return data\n        } catch (e) {\n            setLoading(false)\n            setError(e.message)\n            throw e\n        }\n    }, [])\n\n    const clearError = useCallback(() => setError(null), [])\n\n    return { loading, request, error, clearError }\n}","import {Spin} from 'antd';\nimport React from 'react';\nimport st from \"./Preloader.module.css\"\n\nconst Preloader = () => {\n\n    return (\n        <div className={st.preloader}>\n            <Spin size=\"large\"/>\n        </div>\n    )\n}\n\nexport default Preloader","import {Col, Layout, Row, Statistic} from 'antd';\nimport React from 'react';\nimport st from \"./Header.module.css\"\n\n\n\n\nconst HeaderApp = ({currency, ...props}) => {\n\n    const EURtoUAH = currency['UAH']\n    const USDtoUAH = currency['UAH'] / currency['USD']\n\n    return (\n        <Layout.Header>\n            <Row span={24} justify={\"end\"} className={st.statistic}>\n\n                <Col span={3} lg={2} xl={2}>\n                    <Statistic\n                        title=\"EUR to UAH\"\n                        value={EURtoUAH}\n                        precision={2}\n                    />\n                </Col>\n                <Col span={3} lg={2} xl={2}>\n                    <Statistic\n                        title=\"USD to UAH\"\n                        value={USDtoUAH}\n                        precision={2}\n                    />\n                </Col>\n        </Row>\n        </Layout.Header>\n\n    )\n};\nexport default HeaderApp;","import React from 'react';\nimport {Button, Result} from \"antd\";\nimport st from './ResultError.module.css'\n\nconst ResultError = () => {\n\n    return (\n        <div className={st.resultBlock}>\n        <Result\n            status=\"500\"\n            title=\"Error with API\"\n            subTitle=\"Sorry, something went wrong.\"\n            extra={<Button type=\"primary\" onClick={() => document.location.reload()}>Reload Website</Button>}\n        />\n        </div>\n    )\n}\n\nexport default ResultError","import React, {useCallback, useEffect, useState} from 'react';\nimport st from './App.module.css';\nimport {apikey, baseUrl} from \"./config\";\nimport CurrencyRow from \"./components/CurrencyRow/CurrencyRow\";\nimport {useHttp} from \"./hooks/http.hook\";\nimport {Col, Layout, notification, Row} from \"antd\";\nimport Preloader from \"./components/Preloader/Preloader\";\nimport HeaderApp from \"./components/Header/Header\";\nimport ResultError from \"./components/ResultError/ResultError\";\n\nconst {Content} = Layout;\n\nfunction App() {\n\n\n    const {loading, error, request, clearError} = useHttp()                       //custom hook for request with handler errors & loading\n    const [currencyData, setCurrencyData] = useState([])                 //object with all currency\n    const [selectedOptionsFrom, setSelectedOptionsFrom] = useState([])   //first Select\n    const [selectedOptionsTo, setSelectedOptionsTo] = useState([])       //second Select\n    const [fromCurrency, setFromCurrency] = useState(1)                 //first input\n    const [toCurrency, setToCurrency] = useState(0)                     //second input\n\n// request => all currency data. set first default values\n    const fetchData = useCallback(async () => {\n        try {\n            const data = await request(baseUrl, \"GET\", null, {apikey: apikey})\n            setCurrencyData(data.rates)\n            setSelectedOptionsFrom('USD')\n            setSelectedOptionsTo('UAH')\n            setToCurrency(convertsFormula(1, data.rates['UAH'], data.rates['USD']))\n            clearError()\n        } catch (e) {\n            notification['error']({\n                message: e.message\n            });\n        }\n    }, [request, clearError])\n\n// formula for convert currency\n    const convertsFormula = (num, currencyTo, currencyFrom) => {\n        return ((num * currencyTo) / currencyFrom).toFixed(2)\n    }\n\n// first input handler. it is return user`s target value for first input & converts currency for second input\n    const onChangeFromCurrency = (e) => {\n        setFromCurrency(e)\n        setToCurrency(convertsFormula(e, currencyData[selectedOptionsTo], currencyData[selectedOptionsFrom]))\n    }\n\n// second input handler. it is return user`s target value for second input & converts currency for first input\n    const onChangeToCurrency = (e) => {\n        setToCurrency(e)\n        setFromCurrency(convertsFormula(e, currencyData[selectedOptionsFrom], currencyData[selectedOptionsTo]))\n    }\n\n// first select handler. it is return user`s selected option for first select & converts currency for second input\n    const onChangeSelectFromOptions = (value) => {\n        setSelectedOptionsFrom(value)\n        setToCurrency(convertsFormula(fromCurrency, currencyData[selectedOptionsTo], currencyData[value]))\n    }\n\n// second select handler. it is return user`s selected option for second select & converts currency for first input\n    const onChangeSelectToOptions = (value) => {\n        setSelectedOptionsTo(value)\n        setFromCurrency(convertsFormula(toCurrency, currencyData[selectedOptionsFrom], currencyData[value]))\n    }\n\n\n    useEffect(() => {\n        fetchData()\n    }, [fetchData])\n\n\n    if (loading) {\n        return <Preloader/>\n    }\n\n    if (error) {\n        return <ResultError />\n    }\n\n\n    return (\n        <Layout style={{minHeight: \"100vh\"}}>\n            <HeaderApp currency={currencyData}/>\n            <Layout>\n                <Content className={st.content}>\n                    <Row justify={\"center\"}>\n                        <Col span={12} className={st.CurrencyRow}>\n\n                            <CurrencyRow\n                                options={currencyData}\n                                inputValue={fromCurrency}\n                                selectedValue={selectedOptionsFrom}\n                                onChangeInputHandler={onChangeFromCurrency}\n                                onChangeSelectHandler={onChangeSelectFromOptions}\n                            />\n\n                            <CurrencyRow\n                                options={currencyData}\n                                inputValue={toCurrency}\n                                selectedValue={selectedOptionsTo}\n                                onChangeInputHandler={onChangeToCurrency}\n                                onChangeSelectHandler={onChangeSelectToOptions}\n                            />\n\n                        </Col>\n                    </Row>\n                </Content>\n            </Layout>\n        </Layout>\n    );\n}\n\nexport default App;\n","// this is instead of .env\nexport const baseUrl = \"https://api.apilayer.com/exchangerates_data/latest\"\nexport const apikey = \"Lg6P1MlYZlEqukTa6RyWKktoMMd3DS3t\"\nexport const spareApikey = \"S95ZtPr3sPKASU36GXmG5SDXifxwm1nY\"\n// this is instead of .env\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'antd/dist/antd.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currencyBlock\":\"CurrencyRow_currencyBlock__2TDGy\",\"currencyItem\":\"CurrencyRow_currencyItem__3Ny6W\",\"input\":\"CurrencyRow_input__3tfnG\"};"],"sourceRoot":""}